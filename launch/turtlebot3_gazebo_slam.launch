<launch>
  <arg name="model" default="burger" doc="model type [burger, waffle, waffle_pi]"/>
  <arg name="cmd_vel_topic" default="/cmd_vel" />
  <arg name="odom_topic" default="odom" />
  <arg name="move_forward_only" default="false"/>
  <arg name="rviz" default="true" />

  <include file="$(find super_kamnev_study_pkg)/launch/turtlebot3_sim_start.launch">
    <arg name="rviz" value="false" />
  </include>

  <include file="$(find super_kamnev_study_pkg)/launch/turtlebot3_my_gmapping.launch" />

  <include file="$(find super_kamnev_study_pkg)/launch/turtlebot3_move_base.launch">
    <arg name="model" value="$(arg model)" />
    <arg name="cmd_vel_topic" value="$(arg cmd_vel_topic)" />
    <arg name="odom_topic" value="$(arg odom_topic)" />
    <arg name="move_forward_only" value="$(arg move_forward_only)" />
    <param name="base_global_planner" value="global_planner/GlobalPlanner" />

  </include>

  <node if="$(arg rviz)" pkg="rviz" type="rviz" name="rviz"
        args="-d $(find super_kamnev_study_pkg)/rviz/sim_mapping.rviz" />
</launch>
